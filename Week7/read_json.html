<!DOCTYPE html>
<html>
<head>
	<title>JSON reader</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <style>
	table, td, th {
	  border: 1px solid black;
	}

	table {
	  border-collapse: collapse;
	  width: 100%;
	}

	th ,td{
	  text-align: left;
	}
</style>
</head>
<body>
	<div class="container-fluid">
		<div class="text-center">
			<h1 class="text-center"></h1>
			<input type="button" class="btn btn-primary mb-5" onclick="createTable()" value="Create Table From JSON" />
			<div class="">
				<span id="showData"></span>
				<!--<table class="table table-bordered" id="mytable">
			      <thead class="thead-dark">
			        <tr>
			          <th>Name</th>
			          <th>Address</th>
			          <th>Gender</th>
			          <th>Age</th>
			        </tr>
			      </thead>
			      <tbody>

			      </tbody>
				</table>-->

			</div>
			<div>
				Name: <input type="text" id="ename">
				<input type="button" class="btn btn-primary mt-3 mb-5" onclick="searchByName()" value="Get details" />
				<p id="notFound"></p>
				<table>
					<tr>
						<th>Name</th>
				        <th>Address</th>
				        <th>Gender</th>
				        <th>Age</th>
					</tr>
					<tr id="result" >
						
					</tr>
				</table>
				
			</div>
		</div>
	</div>
	<script>
		function createTable(){
			var employee= [ 
			    { "Name": "Raja", "Address": "Pune", "Gender": "Male", "Age": "20" }, 
			    { "Name": "Rahul", "Address": "Bengaluru", "Gender": "Male", "Age": "21" }, 
			    { "Name": "Ram", "Address": "Noida", "Gender": "Male", "Age": "22" } 
			];
			//get headers
			var col = [];
	        for (var i = 0; i < employee.length; i++) {
	            for (var key in employee[i]) {
	                if (col.indexOf(key) === -1) {
	                    col.push(key);
	                }
	            }
	        }
	        var table = document.createElement("table");
	        var tr = table.insertRow(-1);
	        for (var i = 0; i < col.length; i++) {
	            var th = document.createElement("th");      // TABLE HEADER.
	            th.innerHTML = col[i];
	            tr.appendChild(th);
	        }
	        for (var i = 0; i < employee.length; i++) {

	            tr = table.insertRow(-1);

	            for (var j = 0; j < col.length; j++) {
	                var tabCell = tr.insertCell(-1);
	                tabCell.innerHTML = employee[i][col[j]];
	            }
	        }
	        var divContainer = document.getElementById("showData");
	        divContainer.innerHTML = "";
	        divContainer.appendChild(table);
		}
		function searchByName(){
			var employee= [ 
			    { "Name": "Raja", "Address": "Pune", "Gender": "Male", "Age": "20" }, 
			    { "Name": "Rahul", "Address": "Bengaluru", "Gender": "Male", "Age": "21" }, 
			    { "Name": "Ram", "Address": "Noida", "Gender": "Male", "Age": "22" } 
			];
			var ename= document.getElementById('ename').value;
			var result = employee.find(x => x.Name === ename);
			if(result == null){
				document.getElementById('notFound').innerHTML = "No such element found"
			}
			else //console.log(result);
			document.getElementById('result').innerHTML= '<td>' + result.Name + '</td>' + '<td>' + result.Address + '</td>' + '<td>' + result.Gender + '</td>' + '<td>' + result.Age + '</td>' ;
		}
	</script>
</body>
</html>